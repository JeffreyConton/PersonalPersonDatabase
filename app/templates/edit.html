<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Person</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="container">
        <div class="navigation">
            <h2>Navigation</h2>
            <ul>
                <li><a href="{{ url_for('browse') }}">Back</a></li>
            </ul>
        </div>
        <div class="content">
            <div class="form-container">
                <h2>Edit Person</h2>
                <form method="post">
                    <div class="dropdown-section">
                        <div class="dropdown-header" onclick="toggleDropdown(this)">
                            <h3>Basic Information</h3>
                            <span class="toggle-icon">+</span>
                        </div>
                        <div class="dropdown-content">
                            <label for="full_name">Full Name:</label>
                            <input type="text" id="full_name" name="full_name" value="{{ person.full_name }}" required>

                            <label for="nickname">Nickname:</label>
                            <input type="text" id="nickname" name="nickname" value="{{ person.nickname }}">

                            <label for="gender">Gender:</label>
                            <select id="gender" name="gender">
                                <option value="Male" {% if person.gender == "Male" %}selected{% endif %}>Male</option>
                                <option value="Female" {% if person.gender == "Female" %}selected{% endif %}>Female</option>
                                <option value="Other" {% if person.gender == "Other" %}selected{% endif %}>Other</option>
                            </select>

                            <label for="date_of_birth">Date of Birth:</label>
                            <input type="date" id="date_of_birth" name="date_of_birth" value="{{ person.date_of_birth }}">

                            <label for="place_of_birth">Place of Birth:</label>
                            <input type="text" id="place_of_birth" name="place_of_birth" value="{{ person.place_of_birth }}">

                            <label for="nationality">Nationality:</label>
                            <input type="text" id="nationality" name="nationality" value="{{ person.nationality }}">

                            <label for="address">Address:</label>
                            <input type="text" id="address" name="address" value="{{ person.address }}">

                            <label for="phone_number">Phone Number:</label>
                            <input type="text" id="phone_number" name="phone_number" value="{{ person.phone_number }}">

                            <label for="email_address">Email Address:</label>
                            <input type="email" id="email_address" name="email_address" value="{{ person.email_address }}">
                        </div>
                    </div>

                    <div class="dropdown-section">
                        <div class="dropdown-header" onclick="toggleDropdown(this)">
                            <h3>Professional Information</h3>
                            <span class="toggle-icon">+</span>
                        </div>
                        <div class="dropdown-content">
                            <label for="occupation">Occupation:</label>
                            <input type="text" id="occupation" name="occupation" value="{{ person.occupation }}">

                            <label for="company">Company:</label>
                            <input type="text" id="company" name="company" value="{{ person.company }}">

                            <label for="job_title">Job Title:</label>
                            <input type="text" id="job_title" name="job_title" value="{{ person.job_title }}">

                            <label for="work_address">Work Address:</label>
                            <input type="text" id="work_address" name="work_address" value="{{ person.work_address }}">

                            <label for="work_phone_number">Work Phone Number:</label>
                            <input type="text" id="work_phone_number" name="work_phone_number" value="{{ person.work_phone_number }}">

                            <label for="work_email_address">Work Email Address:</label>
                            <input type="email" id="work_email_address" name="work_email_address" value="{{ person.work_email_address }}">

                            <label for="linkedin_profile">LinkedIn Profile:</label>
                            <input type="text" id="linkedin_profile" name="linkedin_profile" value="{{ person.linkedin_profile }}">
                        </div>
                    </div>

                    <div class="dropdown-section">
                        <div class="dropdown-header" onclick="toggleDropdown(this)">
                            <h3>Personal Information</h3>
                            <span class="toggle-icon">+</span>
                        </div>
                        <div class="dropdown-content">
                            <label for="marital_status">Marital Status:</label>
                            <select id="marital_status" name="marital_status">
                                <option value="Single" {% if person.marital_status == "Single" %}selected{% endif %}>Single</option>
                                <option value="Married" {% if person.marital_status == "Married" %}selected{% endif %}>Married</option>
                                <option value="Divorced" {% if person.marital_status == "Divorced" %}selected{% endif %}>Divorced</option>
                                <option value="Widowed" {% if person.marital_status == "Widowed" %}selected{% endif %}>Widowed</option>
                            </select>

                            <label for="spouse_name">Spouse's Name:</label>
                            <input type="text" id="spouse_name" name="spouse_name" value="{{ person.spouse_name }}">

                            <label for="children_names_ages">Children's Names and Ages:</label>
                            <textarea id="children_names_ages" name="children_names_ages">{{ person.children_names_ages }}</textarea>

                            <label for="hobbies">Hobbies:</label>
                            <textarea id="hobbies" name="hobbies">{{ person.hobbies }}</textarea>

                            <label for="interests">Interests:</label>
                            <textarea id="interests" name="interests">{{ person.interests }}</textarea>

                            <label for="favorite_books">Favorite Books:</label>
                            <textarea id="favorite_books" name="favorite_books">{{ person.favorite_books }}</textarea>

                            <label for="favorite_movies">Favorite Movies:</label>
                            <textarea id="favorite_movies" name="favorite_movies">{{ person.favorite_movies }}</textarea>

                            <label for="favorite_music">Favorite Music:</label>
                            <textarea id="favorite_music" name="favorite_music">{{ person.favorite_music }}</textarea>

                            <label for="notes">Notes:</label>
                            <textarea id="notes" name="notes">{{ person.notes }}</textarea>
                        </div>
                    </div>

                    <div class="dropdown-section">
                        <div class="dropdown-header" onclick="toggleDropdown(this)">
                            <h3>Meeting Information</h3>
                            <span class="toggle-icon">+</span>
                        </div>
                        <div class="dropdown-content">
                            <label for="date_met">Date Met:</label>
                            <input type="date" id="date_met" name="date_met" value="{{ person.date_met }}">

                            <label for="place_met">Place Met:</label>
                            <input type="text" id="place_met" name="place_met" value="{{ person.place_met }}">

                            <label for="first_impression">First Impression:</label>
                            <textarea id="first_impression" name="first_impression">{{ person.first_impression }}</textarea>

                            <label for="how_you_met">How You Met:</label>
                            <textarea id="how_you_met" name="how_you_met">{{ person.how_you_met }}</textarea>

                            <label for="mutual_contacts">Mutual Contacts:</label>
                            <textarea id="mutual_contacts" name="mutual_contacts">{{ person.mutual_contacts }}"></textarea>

                            <label for="last_meeting_date">Last Meeting Date:</label>
                            <input type="date" id="last_meeting_date" name="last_meeting_date" value="{{ person.last_meeting_date }}">

                            <label for="next_meeting_date">Next Meeting Date:</label>
                            <input type="date" id="next_meeting_date" name="next_meeting_date" value="{{ person.next_meeting_date }}">
                        </div>
                    </div>

                    <button type="submit">Update</button>
                </form>
            </div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
    <script>
        function toggleDropdown(header) {
            const content = header.nextElementSibling;
            const icon = header.querySelector('.toggle-icon');
            if (content.classList.contains('show')) {
                content.classList.remove('show');
                icon.textContent = '+';
            } else {
                content.classList.add('show');
                icon.textContent = '-';
            }
        }
    </script>
</body>
</html>